(function(a){a.extend(a.easing,{easeOutExpo:function(f,g,e,i,h){return(g==h)?e+i:i*(-Math.pow(2,-10*g/h)+1)+e}});a.scrollr=function(b){var g=this;var k=function(){g.el=b;g.slides=g.el.children().get();g.slide_count=g.slides.length;g.width=document.width;g.is_sliding=false;g.x=null;g.start=null;g.start_x=null;a.each(g.el,function(){a(this).width(1024*a(this).children().get().length);a(this).css({display:"block",padding:"0px",margin:"0px"});a.each(a(this).children(),function(){console.log(a(this));a(this).width(1024);a(this).css({display:"block","float":"left",margin:0,padding:0})})});document.body.addEventListener("touchmove",function(m){m.preventDefault()},false);document.addEventListener("touchstart",l,false);document.addEventListener("touchmove",l,false);document.addEventListener("touchend",l,false)};var c=function(){return i()%g.width!==0};var l=function(n){var m=0;if(n.targetTouches.length){m=n.targetTouches[0].pageX}switch(n.type){case"touchstart":return f(m);break;case"touchmove":return d(m);break;case"touchend":return j();break}};var f=function(m){if(c()){return false}g.x=m;g.start=+new Date();g.start_x=m;g.is_sliding=true};var d=function(m){if(g.is_sliding){var o=i(),n=g.x-m;if(o>0||e(o)===-g.slide_count){n/=Math.floor(3)}g.el.css({"margin-left":o-n+"px"});g.x=m}};var j=function(m){g.is_sliding=false;var q=+new Date()-g.start,r=(g.start_x-g.x)/q,p=i(),o=e(p),n=o*g.width;if(p>0){n=0}else{if(p<-(g.slide_count-1)*g.width){n=-(g.slide_count-1)*g.width}else{if(Math.abs(r)>1){if(g.start_x<g.x){n+=g.width}}else{if(p>n+(g.width/2)){n+=g.width}}}}g.el.animate({"margin-left":n+"px"},600,"easeOutExpo")};var i=function(){return parseInt(g.el.css("margin-left"))};var e=function(m){return Math.floor(m/g.width)};var h=function(){g.start_x=null;g.x=null;g.start=null};k()}})(jQuery);